### 中断描述
```
当CPU内部有下面的情况发生的时候, 将产生相应的中断信息:
    (1) 除法错误, 比如执行div指令产生的除法溢出
    (2) 单步执行
    (3) 执行into指令
    (4) 执行int指令

CPU用中断类型码来标识中断信息的来源, 中断类型码是一个字节型数据, 可以表示256种中断信息的来源, 也称为中断源

中断类型码如下:
    (1) 除法错误: 0
    (2) 单步执行: 1
    (3) 执行into指令: 4
    (4) 执行int指令, 该指令的格式为int n, 指令中的n为字节型立即数, 是提供给CPU的中断类型码

CPU收到中断信息后, 需要对中断信息进行处理, 称为中断处理程序, CPU在收到中断信息后, 会转去执行该中断信息的处理程序, 中断类型
码用于定位中断处理程序, 中断处理程序是一段汇编代码, 有自己的CS:IP地址, CPU利用8位的中断类型码找到中断向量表中存储的中断处理
程序的入口地址

中断向量表存放在内存地址0处, 从内存0000:0000到0000:03FF的1024个单元中存放着中断向量表, 256个中断, 每个中断有CS:IP, 每个
中断占用4个字节, 共1024个字节
```

### 中断执行流程
```
(1) 从中断信息中取得中断类型码
(2) 标志寄存器的值入栈(因为在中断过程中要改变标志寄存器的值, 所以先将其保存在栈中)
(3) 设置标志寄存器的第8位TF和第9位IF的值为0
(4) CS的内容入栈
(5) IP的内容入栈
(6) 从内存地址为 IP = 中断类型码 * 4 和 CS = 中断类型码 * 4 + 2  的两个字单元中读取中断处理程序的入口地址设置IP和CS

(7) 执行中断处理程序 

(8) 用iret指令返回
        1、pop IP
        2、pop CS
        3、popf(恢复标志寄存器的值)



单步中断注意点:
    如果TF = 1, 则执行一条指令后, CPU就转去执行1号中断处理程序, 所以TF这个标志寄存器是用来实现单步中断的

响应中断的特殊情况:
    一般情况下, CPU在执行完当前指令后, 如果检测到中断信息, 就响应中断, 引发中断过程, 在有些情况下, CPU在执行完当前指令后, 即便是
    发生中断, 也不会响应, 比如操作ss寄存器后操作sp寄存器, 那么操作完ss寄存器后不会响应中断继续操作sp寄存器, 如下:
        mov ax, 1000h
        mov ss, ax
        mov sp, 0
```
